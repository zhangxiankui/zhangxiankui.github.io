---
layout: post
title:  "Web攻击方式和防御手段"
categories: Web
tags:  网络攻击 XSS CXRF DDos 
author: zhangxiankui
---

* content
{:toc}


## 一、XSS攻击
#### 1.什么是XSS攻击?
##### XSS攻击是指跨站脚本攻击（Cross Site Scripting），主要是在js脚本中植入一些脚本来达到攻击的目的，比如在输入用户名时填入一个弹框提示
#### 2.XSS攻击的防御手段
##### XSS的根本原因是攻击者利用特殊符号如<>，/>等，这时候我们需要在后端对这些数据进行转义处理，就能防止XSS攻击
	
## 二、CXRF攻击
#### 1.什么是CXRF攻击？
CXRF是指跨站请求伪造攻击（Cross Site Request Forge），攻击方式是攻击者通过伪造你的http请求来进行访问其他网站。比如攻击者可能会在某张图片或者某个脚本中植入http请求，当你访问图片或者点击某脚本时，会引导你访问另外一个网站，比如银行转账，此时由于你之前访问该网站的cookie并未失效，脚本会携带着你的cookie去访问银行网站，但是银行服务器并不知道这不是你自己的请求便会验证通过，这样当你访问某个钓鱼网站之后你可能就会莫名其妙损失10000元
#### 2.CXRF攻击防御手段
1. CXRF攻击最根本的原因是能拿到客户端的cookie，其实我们只要想办法不让攻击者拿到就行。或者在服务器增加验证
2.	第一种可以设置cookie为HttpOnly，这样那些跨站脚本是拿不到客户端的cookie的
3.	第二种是在服务器增加token检验
4.	第三种refer验证，获取http的refer，判断请求的出处
		
## 三、SQL注入攻击
#### 1.什么是SQL注入攻击？
SQL注入攻击是指攻击者通过输入攻击数据库脚本的语句
#### 2.SQL注入攻击的防御手段
1. 使用预编译语义
2. 使用ORM框架,注入mybaties，hibernate，paoding.jade；实例原理和第一个相似
	
## 四、文件上传漏洞
#### 1.什么是文件上传漏洞？
文件上传漏洞是指攻击通过上传一些可执行文件来诱导服务器执行，以达到攻击的目的
#### 2.文件上传漏洞怎么防御？
文件上传漏洞的根本原因是上传了可执行文件。所以我们需要对上传文件进行检验，但是检验不能通过后缀名检验，需要通过文件头的魔数进行检验，这样可以彻底判断文件类型

## 五、DDos攻击
#### 1.什么是DDos攻击？
#####	DDos攻击是指分布式拒绝服务攻击，是指外部通过大量请求来使服务器无法对外提供服务以达到攻击的目的，DDos攻击分为三种
######	①.SYN Flood，这种是利用TCP三次握手协议来进行攻击的，当客户端发起建立连接请求时，服务器会响应客户端两个消息，并将该连接放入等待列表中，并等待客户端的响应报文。攻击者可以通过发送大量请求去建立连接到并不发送确认消息，这样就会导致服务器等待列表溢出，无法对外提供服务
######	②.DNS Query Flood，攻击者通过攻击DNS来使其失去域名解析功能，达到拒绝服务的目的，这种会引起大面积的服务拒绝情况。主要是攻击者通过请求一些根本不存在的域名，这会穿透DNS的缓存，到达全球13台根DNS中
######	③.CC攻击，CC攻击是指攻击者找很多代理来攻击服务器，通过缓存穿透来将请求打到数据库，当数据库压力很大时，其他外部请求就很难处理
#### 2.DDos攻击防御手段
-	对于SYN Flood这种手段，可以考虑服务器采用超时机制来淘汰等待列表中的连接
- 对于DNS Query Flood，可以考虑采用DNS缓存，限制单个源ip单位时间解析次数，限制大量发起的请求的低频源ip带宽限制等方式
-	对于CC攻击，需要在请求访问服务器之前加一层防火墙，对请求进行过滤，防止大规模的缓存穿透，或者考虑增强缓存健壮性来提高防御能力